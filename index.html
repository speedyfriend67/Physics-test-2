<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Learning Cube Platformer</title>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
</head>
<body>
  <canvas id="platformerCanvas" width="800" height="400" style="border: 1px solid #000;"></canvas>
  <script>
    const canvas = document.getElementById('platformerCanvas');
    const ctx = canvas.getContext('2d');
    const player = { x: 50, y: 50, width: 20, height: 20, velocity: { x: 0, y: 0 } };
    const gravity = 0.2;
    const jumpStrength = -5;
    const obstacle = { x: 200, y: canvas.height - 20, width: 50, height: 20 };
    let isJumping = false;

    function drawPlayer() {
      ctx.fillStyle = 'blue';
      ctx.fillRect(player.x, player.y, player.width, player.height);
    }

    function drawObstacle() {
      ctx.fillStyle = 'red';
      ctx.fillRect(obstacle.x, obstacle.y, obstacle.width, obstacle.height);
    }

    function applyGravity() {
      if (player.y < canvas.height - player.height) {
        player.velocity.y += gravity;
      } else {
        player.y = canvas.height - player.height;
        player.velocity.y = 0;
        isJumping = false;
      }
    }

    function jump() {
      if (!isJumping) {
        player.velocity.y = jumpStrength;
        isJumping = true;
      }
    }

    function update() {
      applyGravity();

      // Update player position based on velocity
      player.x += player.velocity.x;
      player.y += player.velocity.y;

      // Check for collision with obstacle
      if (
        player.x < obstacle.x + obstacle.width &&
        player.x + player.width > obstacle.x &&
        player.y < obstacle.y + obstacle.height &&
        player.y + player.height > obstacle.y
      ) {
        // Collision detected, reset player position
        player.x = 50;
        player.y = 50;
      }

      // Clear canvas
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Draw player and obstacle
      drawPlayer();
      drawObstacle();

      requestAnimationFrame(update);
    }

    // Handle keyboard input
    window.addEventListener('keydown', (event) => {
      if (event.code === 'Space') {
        jump();
      }
    });

    // Start the game loop
    update();
  </script>
</body>
</html>
